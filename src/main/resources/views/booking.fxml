<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.paint.Color?>

<StackPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.gym.ui.controllers.BookingController"
            styleClass="app-root"
            prefWidth="1400"
            prefHeight="800">

    <!-- 1) IMAGEN DE FONDO -->
    <ImageView fitWidth="1400"
               fitHeight="800"
               preserveRatio="false"
               smooth="true"
               pickOnBounds="true">
        <image>
            <Image url="@../images/member-class.jpg"/>
        </image>
    </ImageView>

    <!-- 2) CAPA OSCURA -->
    <Rectangle width="1400" height="800" opacity="0.78">
        <fill>
            <Color fx:constant="BLACK"/>
        </fill>
    </Rectangle>

    <BorderPane prefWidth="1400" prefHeight="800">
        <top>
            <HBox alignment="CENTER_LEFT"
                  style="-fx-padding: 12 20 0 20;">
                <children>
                    <Button text="â† Back"
                            onAction="#onBackClicked"
                            styleClass="secondary-btn"/>
                </children>
            </HBox>
        </top>

        <center>
            <VBox alignment="TOP_CENTER">
                <ImageView fitWidth="1400"
                           fitHeight="800"
                           preserveRatio="false"
                           smooth="true"
                           pickOnBounds="true">
                    <image>
                        <Image url="@../images/member-class.jpg"/>
                    </image>
                </ImageView>
            </VBox>

            <Rectangle width="1400" height="800" opacity="0.78">
                <fill>
                    <Color fx:constant="BLACK"/>
                </fill>
            </Rectangle>

            <VBox maxWidth="900"
                  alignment="TOP_CENTER"
                  spacing="20"
                  style="-fx-padding: 40 16 16 16;">

                <Label text="Book your next class"
                       style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold; -fx-font-family: 'Impact', 'Arial Black';"/>

                <HBox alignment="CENTER" spacing="12">
                    <children>
                        <Label text="Date:"
                               style="-fx-text-fill: white; -fx-font-size: 13px;"/>
                        <DatePicker fx:id="datePicker"
                                    styleClass="date-picker-dark"
                                    prefWidth="160"
                                    prefHeight="36"/>
                        <Button text="Clear"
                                onAction="#onClearDateClicked"
                                styleClass="secondary-btn"
                                style="-fx-pref-height: 36; -fx-padding: 6 20;"/>

                        <TextField fx:id="searchField"
                                   promptText="Filter by class, instructor or date..."
                                   styleClass="search-field-dark"
                                   prefWidth="280"
                                   prefHeight="36"/>
                    </children>
                </HBox>

                <StackPane maxWidth="900" maxHeight="320" StackPane.alignment="CENTER">
                    <TableView fx:id="scheduleTable"
                               styleClass="booking-table"
                               prefWidth="900" prefHeight="320">

                        <columns>
                            <TableColumn fx:id="timeColumn" text="Time" prefWidth="141"/>
                            <TableColumn fx:id="classNameColumn" text="Class" prefWidth="141"/>
                            <TableColumn fx:id="instructorColumn" text="Instructor" prefWidth="141"/>
                            <TableColumn fx:id="focusColumn" text="Focus" prefWidth="141"/>
                            <TableColumn fx:id="dateColumn" text="Date" prefWidth="141"/>
                            <TableColumn fx:id="spotsColumn" text="Available spots" prefWidth="140"/>
                        </columns>
                        <placeholder>
                            <Label text="No classes available for this date."
                                   style="-fx-text-fill: #999999;"/>
                        </placeholder>
                    </TableView>
                </StackPane>

                <HBox alignment="CENTER" spacing="20" style="-fx-padding: 4 0 0 0;">
                    <children>
                        <Label fx:id="selectionLabel"
                               text="Select a class from the list"
                               style="-fx-text-fill: #cccccc; -fx-font-size: 13px;"/>

                        <Button text="Confirm class"
                                onAction="#onConfirmClicked"
                                styleClass="tile-btn-primary"
                                style="-fx-font-size: 13px; -fx-padding: 8 24;"/>
                    </children>
                </HBox>
            </VBox>
        </center>
    </BorderPane>
</StackPane>