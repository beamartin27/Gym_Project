<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.gym.ui.controllers.AdminUsersController">

    <!-- Top bar -->
    <top>
        <HBox spacing="10" style="-fx-padding: 10;">
            <Label text="Manage users (members &amp; trainers)"
                   style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="Back to dashboard" onAction="#onBackClicked"/>
        </HBox>
    </top>

    <!-- Center: table + form -->
    <center>
        <VBox spacing="10" style="-fx-padding: 10;">

            <!-- Users table -->
            <TableView fx:id="usersTable" prefHeight="250" prefWidth="800">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                    <TableColumn fx:id="usernameColumn" text="Username" prefWidth="150"/>
                    <TableColumn fx:id="emailColumn" text="Email" prefWidth="200"/>
                    <TableColumn fx:id="roleColumn" text="Role" prefWidth="100"/>
                    <TableColumn fx:id="createdAtColumn" text="Created at" prefWidth="150"/>
                </columns>
            </TableView>

            <!-- Form -->
            <TitledPane text="Create member or trainer" expanded="true">
                <content>
                    <VBox spacing="8" style="-fx-padding: 10;">
                        <GridPane hgap="10" vgap="8">
                            <columnConstraints>
                                <ColumnConstraints prefWidth="100"/>
                                <ColumnConstraints prefWidth="250"/>
                                <ColumnConstraints prefWidth="100"/>
                                <ColumnConstraints prefWidth="250"/>
                            </columnConstraints>

                            <children>
                                <Label text="Username:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                <TextField fx:id="usernameField"
                                           GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                <Label text="Password:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                                <PasswordField fx:id="passwordField"
                                               GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                                <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                <TextField fx:id="emailField"
                                           GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                <Label text="Role:" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                                <ComboBox fx:id="roleComboBox"
                                          promptText="MEMBER or TRAINER"
                                          GridPane.rowIndex="1" GridPane.columnIndex="3"/>
                            </children>
                        </GridPane>

                        <HBox spacing="10">
                            <Button text="Add user" onAction="#onAddUserClicked"/>
                            <Button text="Delete selected user" onAction="#onDeleteUserClicked"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                            <Button text="Clear form" onAction="#onClearFormClicked"/>
                        </HBox>
                    </VBox>
                </content>
            </TitledPane>

        </VBox>
    </center>

</BorderPane>