<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.paint.Color?>

<StackPane fx:id="rootPane"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.gym.ui.controllers.TrainerAttendanceController"
           styleClass="app-root"
           prefWidth="1000"
           prefHeight="650">

    <!-- IMAGEN DE FONDO -->
    <ImageView fx:id="bgImage"
               fitWidth="1000"
               fitHeight="650"
               preserveRatio="false"
               smooth="true"
               pickOnBounds="true">
        <image>
            <Image url="@../images/trainer-attendance.jpg"/>
        </image>
    </ImageView>

    <!-- CAPA OSCURA -->
    <Rectangle fx:id="overlay"
               width="1000"
               height="650"
               opacity="0.78">
        <fill>
            <Color fx:constant="BLACK"/>
        </fill>
    </Rectangle>

    <!-- CONTENIDO CENTRADO -->
    <VBox alignment="CENTER"
          spacing="18"
          style="-fx-padding: 40 40 40 40;">

        <!-- TÃTULO -->
        <Label fx:id="headerLabel"
               text="Attendance"
               style="-fx-text-fill: white;
                      -fx-font-size: 24px;
                      -fx-font-weight: bold;
                      -fx-font-family: 'Impact','Arial Black';
                      -fx-padding: 0 0 10 0;"/>

        <!-- TABLA -->
        <StackPane maxWidth="900" maxHeight="360">
            <TableView fx:id="attendanceTable"
                       styleClass="booking-table"
                       prefWidth="900"
                       prefHeight="360">
                <columns>
                    <TableColumn fx:id="memberColumn"
                                 text="Member"
                                 prefWidth="350"/>
                    <TableColumn fx:id="statusColumn"
                                 text="Status"
                                 prefWidth="300"/>
                    <TableColumn fx:id="attendedColumn"
                                 text="Attended"
                                 prefWidth="250"/>
                </columns>
            </TableView>
        </StackPane>

        <!-- MENSAJE -->
        <Label fx:id="messageLabel"
               style="-fx-text-fill: #ff6666;"/>

        <!-- BOTONES -->
        <HBox alignment="CENTER"
              spacing="16">
            <Button fx:id="saveButton"
                    text="Save &amp; award points"
                    onAction="#onSaveClicked"
                    styleClass="primary-btn"/>

            <Button text="Close"
                    onAction="#onCloseClicked"
                    styleClass="secondary-btn"/>
        </HBox>
    </VBox>

</StackPane>
