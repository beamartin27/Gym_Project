<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.paint.Color?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.gym.ui.controllers.AdminClassesController"
           styleClass="app-root"
           prefWidth="1400"
           prefHeight="800">

    <!-- 1) IMAGEN DE FONDO -->
    <ImageView fitWidth="1400"
               fitHeight="800"
               preserveRatio="false"
               smooth="true"
               pickOnBounds="true">
        <image>
            <!-- Cambia la ruta si usas otra imagen para admin -->
            <Image url="@../images/admin.jpg"/>
        </image>
    </ImageView>

    <!-- 2) CAPA OSCURA -->
    <Rectangle width="1400" height="800" opacity="0.50">
        <fill>
            <Color fx:constant="BLACK"/>
        </fill>
    </Rectangle>

    <!-- 3) CONTENIDO -->
    <BorderPane prefWidth="1400" prefHeight="800">

        <!-- TOP: botón back arriba a la derecha -->
        <top>
            <StackPane style="-fx-padding: 20 20 0 20;">
                <children>
                    <Button text="Back to dashboard"
                            onAction="#onBackClicked"
                            styleClass="secondary-btn"
                            StackPane.alignment="TOP_RIGHT"/>
                </children>
            </StackPane>
        </top>

        <!-- CENTER: título + buscador + tabla + botones -->
        <center>
            <VBox alignment="TOP_CENTER"
                  spacing="16"
                  style="-fx-padding: 60 40 40 40;">

                <!-- TÍTULO -->
                <Label text="Classes"
                       style="-fx-text-fill: white;
                              -fx-font-size: 28px;
                              -fx-font-weight: bold;
                              -fx-font-family: 'Impact','Arial Black';
                              -fx-padding: 10 0 0 0;"/>

                <!-- SEARCH BAR -->
                <HBox alignment="CENTER"
                      spacing="10"
                      maxWidth="900">
                    <TextField fx:id="searchField"
                               promptText="Search by name, instructor or type..."
                               styleClass="search-field-dark"
                               HBox.hgrow="ALWAYS"/>
                    <Button text="Search"
                            onAction="#onSearchClicked"
                            styleClass="primary-btn"/>
                    <Button text="Clear"
                            onAction="#onClearSearchClicked"
                            styleClass="secondary-btn"/>
                </HBox>

                <!-- TABLA DE CLASES -->
                <StackPane maxWidth="1100" maxHeight="420">
                    <TableView fx:id="classesTable"
                               styleClass="booking-table"
                               prefHeight="420"
                               prefWidth="1100">
                        <columns>
                            <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="nameColumn" text="Name" prefWidth="180"/>
                            <TableColumn fx:id="instructorColumn" text="Instructor" prefWidth="160"/>
                            <TableColumn fx:id="typeColumn" text="Type" prefWidth="120"/>
                            <TableColumn fx:id="capacityColumn" text="Capacity" prefWidth="80"/>
                            <TableColumn fx:id="durationColumn" text="Duration (min)" prefWidth="120"/>
                            <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="380"/>
                        </columns>
                    </TableView>
                </StackPane>

                <!-- BOTONES DE ACCIÓN -->
                <HBox alignment="CENTER"
                      spacing="16"
                      style="-fx-padding: 10 0 40 0;">
                    <Button text="Add class"
                            onAction="#onAddClass"
                            styleClass="primary-btn"/>

                    <Button text="Edit selected"
                            onAction="#onEditClass"
                            styleClass="primary-btn"/>

                    <Button text="Delete selected"
                            onAction="#onDeleteClass"
                            styleClass="primary-btn"/>
                </HBox>
            </VBox>
        </center>

    </BorderPane>
</StackPane>
