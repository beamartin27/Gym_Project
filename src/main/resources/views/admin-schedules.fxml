<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.gym.ui.controllers.AdminSchedulesController">

    <top>
        <HBox spacing="10" style="-fx-padding: 10;">
            <Label text="Manage schedules"
                   style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="Back to dashboard" onAction="#onBackClicked"/>
        </HBox>
    </top>

    <center>
        <VBox spacing="10" style="-fx-padding: 10;">

            <!-- Filter row -->
            <HBox spacing="10">
                <Label text="Show schedules for date:"/>
                <DatePicker fx:id="dateFilterPicker" onAction="#onFilterDateChanged"/>
                <Button text="Clear" onAction="#onClearDateFilterClicked"/>
            </HBox>


            <!-- Schedules table -->
            <TableView fx:id="schedulesTable" prefHeight="250" prefWidth="800">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                    <TableColumn fx:id="classColumn" text="Class" prefWidth="150"/>
                    <TableColumn fx:id="instructorColumn" text="Instructor" prefWidth="150"/>
                    <TableColumn fx:id="dateColumn" text="Date" prefWidth="120"/>
                    <TableColumn fx:id="timeColumn" text="Time" prefWidth="160"/>
                    <TableColumn fx:id="spotsColumn" text="Available spots" prefWidth="120"/>
                </columns>
            </TableView>

            <!-- Form to create a new schedule -->
            <TitledPane text="Create schedule" expanded="true">
                <content>
                    <VBox spacing="8" style="-fx-padding: 10;">
                        <GridPane hgap="10" vgap="8">
                            <columnConstraints>
                                <ColumnConstraints prefWidth="120"/>
                                <ColumnConstraints prefWidth="250"/>
                                <ColumnConstraints prefWidth="120"/>
                                <ColumnConstraints prefWidth="250"/>
                            </columnConstraints>

                            <children>
                                <Label text="Class:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                <ComboBox fx:id="classComboBox"
                                          promptText="Select class"
                                          GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                <Label text="Date:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                <DatePicker fx:id="scheduleDatePicker"
                                            GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                <Label text="Start time (HH:mm):" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                <TextField fx:id="startTimeField"
                                           promptText="09:00"
                                           GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                <Label text="End time (HH:mm):" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
                                <TextField fx:id="endTimeField"
                                           promptText="10:00"
                                           editable="false"
                                           GridPane.rowIndex="2" GridPane.columnIndex="3"/>


                                <Label fx:id="capacityLabel"
                                       text="Capacity / initial spots: -"
                                       GridPane.rowIndex="3" GridPane.columnIndex="0"
                                       GridPane.columnSpan="4"/>
                            </children>
                        </GridPane>

                        <HBox spacing="10">
                            <Button text="Add schedule" onAction="#onAddScheduleClicked"/>
                            <Button text="Delete selected schedule" onAction="#onDeleteScheduleClicked"/>
                        </HBox>
                    </VBox>
                </content>
            </TitledPane>

        </VBox>
    </center>

</BorderPane>